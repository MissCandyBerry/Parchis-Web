<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üé≤ Parch√≠s Online</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- ============================================ -->
  <!-- PANTALLA 1: INICIO                           -->
  <!-- Pantalla de bienvenida con bot√≥n "Jugar"     -->
  <!-- ============================================ -->
  <div id="screenInicio" class="screen">
    <div class="dados-fondo"></div>
    <div class="modal-center">
      <h1 class="titulo-principal">PARCH√çS<br><span class="online">ONLINE</span></h1>
      <!-- Bot√≥n que lleva a la pantalla de registro -->
      <button id="btnJugar" class="btn-grande">Jugar</button>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- PANTALLA 2: REGISTRO                         -->
  <!-- El jugador escribe su nombre                 -->
  <!-- ============================================ -->
  <div id="screenRegistro" class="screen hidden">
    <div class="dados-fondo"></div>
    <div class="modal-center">
      <div class="modal-header">REGISTRO</div>
      <div class="modal-body">
        <label>Escribe tu nombre</label>
        <!-- Input para el nombre del jugador (m√°ximo 10 caracteres) -->
        <input type="text" id="inputNombre" placeholder="Candy" maxlength="10">
        <!-- Bot√≥n que valida el nombre y avanza a configuraci√≥n -->
        <button id="btnAceptarNombre" class="btn-primary">Aceptar</button>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- PANTALLA 3: CONFIGURACI√ìN (COLOR)            -->
  <!-- El jugador selecciona su color de juego      -->
  <!-- ============================================ -->
  <div id="screenConfiguracion" class="screen hidden">
    <div class="dados-fondo"></div>
    <div class="modal-center">
      <div class="modal-header">CONFIGURACI√ìN</div>
      <div class="modal-body">
        <label>Escoge un color</label>
        <div class="color-options">
          <!-- Cada opci√≥n tiene data-color que se env√≠a al broker -->
          <div class="color-option" data-color="ROJO">
            <div class="color-circle rojo"></div>
            <span>Rojo</span>
          </div>
          <div class="color-option" data-color="AZUL">
            <div class="color-circle azul"></div>
            <span>Azul</span>
          </div>
          <div class="color-option" data-color="AMARILLO">
            <div class="color-circle amarillo"></div>
            <span>Amarillo</span>
          </div>
          <div class="color-option" data-color="VERDE">
            <div class="color-circle verde"></div>
            <span>Verde</span>
          </div>
        </div>
        <!-- Bot√≥n deshabilitado hasta que se seleccione un color -->
        <button id="btnAceptarColor" class="btn-primary" disabled>Aceptar</button>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- PANTALLA 4: SALA DE ESPERA (LOBBY)           -->
  <!-- Muestra jugadores conectados y permite       -->
  <!-- iniciar la partida (m√≠nimo 2 jugadores)      -->
  <!-- ============================================ -->
  <div id="screenLobby" class="screen hidden">
    <div class="dados-fondo"></div>
    <div class="modal-center">
      <div class="modal-header">
        SALA DE ESPERA 
        <!-- Contador de jugadores conectados (0/4) -->
        <span id="contadorJugadores">0/4</span>
      </div>
      <div class="modal-body">
        <!-- Lista din√°mica de jugadores con su color -->
        <div id="listaJugadores" class="lista-jugadores">
          <!-- Se llena din√°micamente desde GameStateManager. js -->
        </div>
        <!-- Bot√≥n para solicitar inicio de partida al broker -->
        <button id="btnIniciar" class="btn-primary">Iniciar</button>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- PANTALLA 5: JUEGO (TABLERO)                  -->
  <!-- Pantalla principal donde ocurre el juego     -->
  <!-- Layout en grid: 4 esquinas (jugadores),      -->
  <!-- centro (tablero), izquierda (dado),          -->
  <!-- derecha (log de eventos)                     -->
  <!-- ============================================ -->
  <div id="screenJuego" class="screen hidden">
    <div class="game-layout">
      <!-- JUGADOR ROJO (arriba-izquierda) -->
      <div class="player-info player-rojo">
        <div class="player-name" id="nombreRojo">-</div>
        <!-- Muestra fichas en meta (0/4) -->
        <div class="player-fichas" id="fichasRojo">0/4</div>
      </div>

      <!-- JUGADOR AZUL (arriba-derecha) -->
      <div class="player-info player-azul">
        <div class="player-name" id="nombreAzul">-</div>
        <div class="player-fichas" id="fichasAzul">0/4</div>
      </div>

      <!-- TABLERO CENTRAL -->
      <!-- Canvas donde BoardRenderer dibuja el tablero y PieceManager las fichas -->
      <div class="tablero-container">
        <canvas id="tablero" width="1180" height="880"></canvas>
      </div>

      <!-- DADO (izquierda) -->
      <!-- Muestra el valor del √∫ltimo dado lanzado -->
      <div class="dado-container">
        <div id="dado" class="dado">
          <!-- Cara del dado con s√≠mbolos Unicode (‚öÄ = 1, ‚öÖ = 6) -->
          <div class="cara" data-value="1">‚öÄ</div>
        </div>
        <!-- Texto del valor del dado -->
        <div id="valorDado" class="valor-dado">-</div>
      </div>

      <!-- LOG DE EVENTOS (derecha) -->
      <!-- Muestra mensajes en tiempo real de lo que ocurre en la partida -->
      <div class="log-container">
        <div id="logEventos" class="log-eventos">
          Aqu√≠ se va imprimiendo...  
        </div>
      </div>

      <!-- JUGADOR VERDE (abajo-izquierda) -->
      <div class="player-info player-verde">
        <div class="player-name" id="nombreVerde">-</div>
        <div class="player-fichas" id="fichasVerde">0/4</div>
      </div>

      <!-- JUGADOR AMARILLO (abajo-derecha) -->
      <div class="player-info player-amarillo">
        <div class="player-name" id="nombreAmarillo">-</div>
        <div class="player-fichas" id="fichasAmarillo">0/4</div>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- CARGAR JAVASCRIPT (orden importante)         -->
  <!-- 1. WebSocketClient: Maneja conexi√≥n          -->
  <!-- 2. BoardRenderer: Dibuja tablero             -->
  <!-- 3. PieceManager: Gestiona fichas             -->
  <!-- 4. GameStateManager: Controla pantallas      -->
  <!-- 5.  client. js: Orquesta todo                  -->
  <!-- ============================================ -->
  <script src="js/WebSocketClient.js"></script>
  <script src="js/BoardRenderer.js"></script>
  <script src="js/PieceManager.js"></script>
  <script src="js/GameStateManager.js"></script>
  <script src="js/client.js"></script>
</body>
</html>